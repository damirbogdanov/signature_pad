{"version":3,"file":"signature_pad.min.js","sources":["../src/point.ts","../src/bezier.ts","../src/signature_event_target.ts","../src/signature_pad.ts","../src/throttle.ts"],"sourcesContent":[null,null,null,null,null],"names":["Point","constructor","x","y","pressure","time","isNaN","Error","this","Date","now","distanceTo","start","Math","sqrt","pow","equals","other","velocityFrom","Bezier","fromPoints","points","widths","c2","calculateControlPoints","c3","c1","end","s1","s2","s3","dx1","dy1","dx2","dy2","m1","m2","l1","l2","k","cm","tx","ty","startPoint","control2","control1","endPoint","startWidth","endWidth","length","px","py","i","t","cx","point","cy","xdiff","ydiff","SignatureEventTarget","_et","EventTarget","error","document","addEventListener","type","listener","options","dispatchEvent","event","removeEventListener","callback","SignaturePad","canvas","super","_drawingStroke","_isEmpty","_lastPoints","_data","_lastVelocity","_lastWidth","_handleMouseDown","buttons","_strokeBegin","_handleMouseMove","_strokeMoveUpdate","_handleMouseUp","_strokeEnd","_handleTouchStart","cancelable","preventDefault","targetTouches","touch","changedTouches","_handleTouchMove","_handleTouchEnd","target","_handlePointerStart","_handlePointerMove","_handlePointerEnd","velocityFilterWeight","minWidth","maxWidth","throttle","minDistance","dotSize","penColor","backgroundColor","compositeOperation","canvasContextOptions","fn","wait","result","storedContext","storedArgs","previous","timeout","later","apply","args","remaining","clearTimeout","window","setTimeout","prototype","_strokeUpdate","_ctx","getContext","clear","on","ctx","fillStyle","clearRect","width","height","fillRect","_reset","_getPointGroupOptions","fromDataURL","dataUrl","Promise","resolve","reject","image","Image","ratio","devicePixelRatio","xOffset","yOffset","onload","drawImage","onerror","crossOrigin","src","toDataURL","encoderOptions","undefined","btoa","toSVG","style","touchAction","msTouchAction","userSelect","setAttribute","isIOS","test","navigator","userAgent","PointerEvent","_handlePointerEvents","_handleMouseEvents","_handleTouchEvents","off","ownerDocument","isEmpty","fromData","pointGroups","_fromData","_drawCurve","bind","_drawDot","concat","toData","group","CustomEvent","detail","pointGroupOptions","newPointGroup","push","clientX","clientY","force","_createPoint","lastPointGroup","lastPoints","lastPoint","isLastPointTooClose","curve","_addPoint","globalCompositeOperation","rect","getBoundingClientRect","left","top","getTime","unshift","_calculateCurveWidths","shift","velocity","newWidth","_strokeWidth","max","_drawCurveSegment","moveTo","arc","PI","widthDelta","drawSteps","ceil","beginPath","tt","ttt","u","uu","uuu","min","closePath","fill","drawCurve","drawDot","j","basicPoint","includeBackgroundColor","maxX","maxY","svg","createElementNS","toString","createElement","appendChild","path","attr","toFixed","circle","size","outerHTML"],"mappings":"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"}